package systemcontract

import (
	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/contracts/system"
	"github.com/ethereum/go-ethereum/core"
	"github.com/ethereum/go-ethereum/core/state"
	"github.com/ethereum/go-ethereum/core/types"
	"github.com/ethereum/go-ethereum/log"
	"github.com/ethereum/go-ethereum/params"
)

type HardFork1 struct {
}

func (h *HardFork1) Staking() *StakingV1 {
	return &StakingV1{"0x6080604052600436106200045b5760003560e01c806370a996a9116200023f578063c967f90f116200013b578063e0d8ea5311620000b9578063f0f2e5521162000084578063f0f2e5521462000cf6578063f28e5f61146200077f578063f3dc92831462000d2a578063f3ec22911462000d42578063f851a4401462000d6757600080fd5b8063e0d8ea531462000c8a578063e818ef861462000ca1578063ec2801f91462000cc6578063f08b92841462000cde57600080fd5b8063d2a71d351162000106578063d2a71d351462000bb0578063d3af05051462000bd5578063da60db131462000bed578063da71584b1462000c04578063de6746a51462000c2957600080fd5b8063c967f90f1462000b24578063cfe9f8ec1462000b4e578063d27109091462000b82578063d2957b2f1462000b9957600080fd5b80639bde74a811620001c9578063aa5c9afd1162000194578063aa5c9afd1462000a8e578063b8d08db21462000ab3578063b93737071462000987578063c086559e1462000acb578063c2c0bfe41462000af057600080fd5b80639bde74a814620009f75780639cc02c301462000a2b5780639de702581462000a42578063a967e6601462000a6957600080fd5b8063820805af116200020a578063820805af14620009875780638f28397014620009a357806393ef357a14620009c857806398c2199d14620009e057600080fd5b806370a996a914620009095780637977f98114620009205780637bd8d00c146200093d578063820013c2146200096257600080fd5b806332f3c17f116200035b57806358f9194311620002d957806363ef162711620002a457806363ef16271462000881578063642526431462000899578063692aa97e14620008a35780636936c70d14620008bf5780636be9dcce14620008e457600080fd5b806358f91943146200082c5780635a651019146200077f5780635bcee38214620008445780635e81f1f8146200086957600080fd5b806347f46ed0116200032657806347f46ed0146200077f5780634b0b32c514620007965780634d0859cc14620007ca5780634eb4d1ba14620007ef5780634f586573146200081457600080fd5b806332f3c17f14620006f05780633488641b146200072a5780634670ceaf1462000742578063476776d4146200076757600080fd5b806315dd2d5511620003e95780632678224711620003b45780632678224714620006095780632693ee80146200062b57806329b6eca9146200064d5780632c51c34a14620006725780632db1086114620006ce57600080fd5b806315dd2d55146200059a57806315de360e14620005bf5780631927207f14620005d8578063213a489414620005f057600080fd5b80630e18b681116200042a5780630e18b681146200051c57806310767904146200053457806314d140b0146200054b578063158ef93e146200056d57600080fd5b806301036cae1462000460578063023455651462000487578063073d2eb414620004b15780630cd2c6fa14620004c9575b600080fd5b3480156200046d57600080fd5b50620004856200047f366004620051de565b62000d8e565b005b3480156200049457600080fd5b506200049e603081565b6040519081526020015b60405180910390f35b348015620004be57600080fd5b506200049e60125481565b348015620004d657600080fd5b5062000503620004e836600462004ef8565b6009602052600090815260409020546001600160a01b031681565b6040516001600160a01b039091168152602001620004a8565b3480156200052957600080fd5b506200048562000e99565b620004856200054536600462004ef8565b62000f50565b3480156200055857600080fd5b50601c5462000503906001600160a01b031681565b3480156200057a57600080fd5b50600054620005899060ff1681565b6040519015158152602001620004a8565b348015620005a757600080fd5b5062000485620005b936600462004ef8565b62001098565b348015620005cc57600080fd5b506200049e6201518081565b348015620005e557600080fd5b506200049e6103e881565b348015620005fd57600080fd5b506200049e621baf8081565b3480156200061657600080fd5b5060015462000503906001600160a01b031681565b3480156200063857600080fd5b50601b5462000503906001600160a01b031681565b3480156200065a57600080fd5b50620004856200066c36600462004ef8565b62001142565b3480156200067f57600080fd5b50620006b26200069136600462004ef8565b600a6020526000908152604090208054600182015460029092015490919083565b60408051938452602084019290925290820152606001620004a8565b348015620006db57600080fd5b5060205462000503906001600160a01b031681565b348015620006fd57600080fd5b506200049e6200070f36600462004ef8565b6001600160a01b03166000908152601d602052604090205490565b3480156200073757600080fd5b506200049e60115481565b3480156200074f57600080fd5b50620004856200076136600462005059565b620011a5565b3480156200077457600080fd5b50620004856200137b565b3480156200078c57600080fd5b506200049e600181565b348015620007a357600080fd5b5062000589620007b5366004620051c5565b6000908152601f602052604090205460ff1690565b348015620007d757600080fd5b506200049e620007e936600462004f36565b62001423565b348015620007fc57600080fd5b50620004856200080e36600462004ef8565b6200143c565b3480156200082157600080fd5b506200049e60135481565b3480156200083957600080fd5b506200058962001590565b3480156200085157600080fd5b506200048562000863366004620050f0565b620015c9565b3480156200087657600080fd5b50620004856200172f565b3480156200088e57600080fd5b506200049e60055481565b6200048562001a8d565b348015620008b057600080fd5b50600354620005899060ff1681565b348015620008cc57600080fd5b5062000485620008de3660046200502b565b62001cda565b348015620008f157600080fd5b506200049e6200090336600462004f36565b62001e55565b620004856200091a36600462004ef8565b62001e65565b3480156200092d57600080fd5b506200049e665543df729c000081565b3480156200094a57600080fd5b50620004856200095c36600462004ef8565b62001eb3565b3480156200096f57600080fd5b506200050362000981366004620051c5565b62001ff5565b3480156200099457600080fd5b506200049e652d79883d200081565b348015620009b057600080fd5b5062000485620009c236600462004ef8565b62002020565b348015620009d557600080fd5b506200049e60145481565b348015620009ed57600080fd5b506200049e600a81565b34801562000a0457600080fd5b506200058962000a16366004620051c5565b60196020526000908152604090205460ff1681565b34801562000a3857600080fd5b506008546200049e565b34801562000a4f57600080fd5b5062000a5a6200209c565b604051620004a891906200531b565b34801562000a7657600080fd5b506200048562000a8836600462004fca565b62002100565b34801562000a9b57600080fd5b506200050362000aad366004620051c5565b6200243f565b34801562000ac057600080fd5b506200049e60065481565b34801562000ad857600080fd5b5062000a5a62000aea3660046200528d565b62002450565b34801562000afd57600080fd5b506200058962000b0f366004620051c5565b60186020526000908152604090205460ff1681565b34801562000b3157600080fd5b5062000b3b601581565b60405160ff9091168152602001620004a8565b34801562000b5b57600080fd5b506200058962000b6d366004620051c5565b601f6020526000908152604090205460ff1681565b6200048562000b9336600462004f73565b620025ea565b34801562000ba657600080fd5b506200049e600281565b34801562000bbd57600080fd5b506200048562000bcf36600462004ef8565b6200299f565b34801562000be257600080fd5b506200049e60105481565b34801562000bfa57600080fd5b506200049e605081565b34801562000c1157600080fd5b506200048562000c233660046200502b565b620029e8565b34801562000c3657600080fd5b5062000c6c62000c4836600462004ef8565b600b6020526000908152604090208054600182015460029092015490919060ff1683565b604080519384526020840192909252151590820152606001620004a8565b34801562000c9757600080fd5b50601e546200049e565b34801562000cae57600080fd5b506200048562000cc036600462004ef8565b62002a3c565b34801562000cd357600080fd5b506200049e60155481565b34801562000ceb57600080fd5b506200049e60165481565b34801562000d0357600080fd5b506200058962000d15366004620051c5565b601a6020526000908152604090205460ff1681565b34801562000d3757600080fd5b506200049e60045481565b34801562000d4f57600080fd5b506200048562000d61366004620051c5565b62002ca6565b34801562000d7457600080fd5b50600054620005039061010090046001600160a01b031681565b33411462000db95760405162461bcd60e51b815260040162000db09062005434565b60405180910390fd5b6001600160a01b0380821660009081526009602052604090205482911662000df55760405162461bcd60e51b815260040162000db09062005417565b6000838152601f6020526040902054839060ff161562000e295760405162461bcd60e51b815260040162000db090620053c0565b6000848152601f60205260409020805460ff1916600117905562000e4f83600a62002dd8565b826001600160a01b03167fda5de20b8278e154fa3f60bbee4cf3f2f8b00c704fcc1042929f222d499a24944260405162000e8b91815260200190565b60405180910390a250505050565b6001546001600160a01b0316331462000edb5760405162461bcd60e51b815260206004820152600360248201526245303360e81b604482015260640162000db0565b600154600080546040516001600160a01b0393841693610100909204909116917f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f91a36001805460008054610100600160a81b0319166101006001600160a01b038416021790556001600160a01b0319169055565b6001600160a01b038082166000908152600960205260409020548291168062000f8d5760405162461bcd60e51b815260040162000db09062005417565b336001600160a01b0316816001600160a01b031663481c6a756040518163ffffffff1660e01b815260040160206040518083038186803b15801562000fd157600080fd5b505afa15801562000fe6573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200100c919062004f17565b6001600160a01b031614620010355760405162461bcd60e51b815260040162000db090620053fa565b6001600160a01b0383166000908152600b602052604090206002015460ff1615806200106657506200106662001590565b620010855760405162461bcd60e51b815260040162000db090620053dd565b620010938384600162002f6e565b505050565b6001600160a01b03808216600090815260096020526040902054829116620010d45760405162461bcd60e51b815260040162000db09062005417565b600280541415620011285760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640162000db0565b600280556200113982600062003219565b50506001600255565b6020546001600160a01b031615620011835760405162461bcd60e51b815260206004820152600360248201526245343160e81b604482015260640162000db0565b602080546001600160a01b0319166001600160a01b0392909216919091179055565b60005460ff1615620011e05760405162461bcd60e51b815260206004820152600360248201526245343160e81b604482015260640162000db0565b6000805460ff191660011790556001600160a01b038a166200122b5760405162461bcd60e51b815260206004820152600360248201526245303960e81b604482015260640162000db0565b87158015906200123a57508615155b806200124e5750871580156200124e575086155b620012825760405162461bcd60e51b815260206004820152600360248201526204531360ec1b604482015260640162000db0565b854711620012b95760405162461bcd60e51b815260206004820152600360248201526245313160e81b604482015260640162000db0565b600084118015620012ca5750600083115b620012fe5760405162461bcd60e51b815260206004820152600360248201526222989960e91b604482015260640162000db0565b60008054610100600160a81b0319166101006001600160a01b038d16021790556200132a89426200546e565b600455600597909755600695909555601493909355601191909155601655601555601b80546001600160a01b039384166001600160a01b031991821617909155601c80549290931691161790555050565b60005461010090046001600160a01b03163314620013ad5760405162461bcd60e51b815260040162000db090620053fa565b60035460ff1615620013e85760405162461bcd60e51b815260206004820152600360248201526222989b60e91b604482015260640162000db0565b6003805460ff191660019081179091556040517fdd288448284e1ccc5e28842bad7eb5c8cfa9587059e1642595fa8666246957a990600090a2565b600062001433838360016200348c565b90505b92915050565b6001600160a01b0380821660009081526009602052604090205482911680620014795760405162461bcd60e51b815260040162000db09062005417565b336001600160a01b0316816001600160a01b031663481c6a756040518163ffffffff1660e01b815260040160206040518083038186803b158015620014bd57600080fd5b505afa158015620014d2573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620014f8919062004f17565b6001600160a01b031614620015215760405162461bcd60e51b815260040162000db090620053fa565b600280541415620015755760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c00604482015260640162000db0565b600280556200158683600162003219565b5050600160025550565b60006004544210158015620015c45750600654600554620015b29190620054a0565b600454620015c19042620054c2565b10155b905090565b334114620015eb5760405162461bcd60e51b815260040162000db09062005434565b436000908152601760209081526040808320600180855292529091205460ff16156200162b5760405162461bcd60e51b815260040162000db090620053c0565b4360009081526017602052604081206001918360048111156200165e57634e487b7160e01b600052602160045260246000fd5b60048111156200167e57634e487b7160e01b600052602160045260246000fd5b81526020810191909152604001600020805460ff1916911515919091179055601654620016ac904362005557565b15620016e15760405162461bcd60e51b815260206004820152600360248201526245313760e81b604482015260640162000db0565b60008251116200171a5760405162461bcd60e51b815260206004820152600360248201526208a62760eb1b604482015260640162000db0565b81516200109390600790602085019062004e36565b334114620017515760405162461bcd60e51b815260040162000db09062005434565b60165462001760904362005557565b15620017955760405162461bcd60e51b815260206004820152600360248201526245313760e81b604482015260640162000db0565b436000908152601760209081526040808320600480855292529091205460ff1615620017d55760405162461bcd60e51b815260040162000db090620053c0565b4360009081526017602052604081206001918360048111156200180857634e487b7160e01b600052602160045260246000fd5b60048111156200182857634e487b7160e01b600052602160045260246000fd5b81526020810191909152604001600020805460ff1916911515919091179055601e54620018525750565b601e54805b801562001a5e576000601e6200186f600184620054c2565b815481106200188e57634e487b7160e01b600052603260045260246000fd5b60009182526020808320909101546001600160a01b0316808352601d90915260409091205490915060021015620018f6576001600160a01b0381166000908152601d60205260408120805460029290620018ea908490620054c2565b9091555062001a489050565b828214620019c8576000601e6200190f600186620054c2565b815481106200192e57634e487b7160e01b600052603260045260246000fd5b6000918252602090912001546001600160a01b0316905080601e62001955600186620054c2565b815481106200197457634e487b7160e01b600052603260045260246000fd5b600091825260209091200180546001600160a01b0319166001600160a01b0392909216919091179055620019aa600184620054c2565b6001600160a01b039091166000908152601d60205260409020600101555b601e805480620019e857634e487b7160e01b600052603160045260246000fd5b60008281526020808220830160001990810180546001600160a01b03191690559092019092556001600160a01b0383168252601d905260408120818155600181810192909255600201805460ff1916905562001a459084620054c2565b92505b508062001a5581620054dc565b91505062001857565b506040517f181d51be54e8e8eaca6eae0eab32d4162099236bd519e7238d015d0870db464190600090a1505b50565b33411462001aaf5760405162461bcd60e51b815260040162000db09062005434565b43600090815260176020908152604080832083805290915281205460ff161562001aed5760405162461bcd60e51b815260040162000db090620053c0565b43600090815260176020526040812060019183600481111562001b2057634e487b7160e01b600052602160045260246000fd5b600481111562001b4057634e487b7160e01b600052602160045260246000fd5b81526020810191909152604001600020805460ff1916911515919091179055341562001a8a57600754600062001b878262001b8060648134605062003663565b90620036c6565b9050600062001b978383620054a0565b62001ba39034620054c2565b905060005b8381101562001c6e576000600960006007848154811062001bd957634e487b7160e01b600052603260045260246000fd5b60009182526020808320909101546001600160a01b039081168452908301939093526040918201812054825163e18b7fcf60e01b8152925193169350839263e18b7fcf928892600480830193919282900301818588803b15801562001c3d57600080fd5b505af115801562001c52573d6000803e3d6000fd5b505050505050808062001c659062005516565b91505062001ba8565b50600062001c84606462001b8034600162003663565b9050801562001cb45760205462001ca5906001600160a01b031682620036f0565b62001cb18282620037b5565b91505b811562001cd357601c5462001cd3906001600160a01b031683620036f0565b5050505050565b6001600160a01b038083166000908152600960205260409020548391168062001d175760405162461bcd60e51b815260040162000db09062005417565b336001600160a01b0316816001600160a01b031663481c6a756040518163ffffffff1660e01b815260040160206040518083038186803b15801562001d5b57600080fd5b505afa15801562001d70573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001d96919062004f17565b6001600160a01b03161462001dbf5760405162461bcd60e51b815260040162000db090620053fa565b6001600160a01b0384166000908152600b602090815260408083208151606081018352815481526001820154938101939093526002015460ff161515908201529062001e0b85620037df565b9050600062001e1c878484620037f1565b90508062001e3e5760405162461bcd60e51b815260040162000db090620053dd565b62001e4c8783600162003a19565b50505050505050565b600062001433838360006200348c565b6001600160a01b0380821660009081526009602052604090205482911662001ea15760405162461bcd60e51b815260040162000db09062005417565b62001eaf8233600062002f6e565b5050565b6001600160a01b038082166000908152600960205260409020548291168062001ef05760405162461bcd60e51b815260040162000db09062005417565b336001600160a01b0316816001600160a01b031663481c6a756040518163ffffffff1660e01b815260040160206040518083038186803b15801562001f3457600080fd5b505afa15801562001f49573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062001f6f919062004f17565b6001600160a01b03161462001f985760405162461bcd60e51b815260040162000db090620053fa565b6001600160a01b0383166000908152600b602052604090206002015460ff16158062001fc9575062001fc962001590565b62001fe85760405162461bcd60e51b815260040162000db090620053dd565b6200109383600162003c2d565b600881815481106200200657600080fd5b6000918252602090912001546001600160a01b0316905081565b60005461010090046001600160a01b03163314620020525760405162461bcd60e51b815260040162000db090620053fa565b600180546001600160a01b0319166001600160a01b0383169081179091556040517faefcaa6215f99fe8c2f605dd268ee4d23a5b596bbca026e25ce8446187f4f1ba90600090a250565b60606007805480602002602001604051908101604052809291908181526020018280548015620020f657602002820191906000526020600020905b81546001600160a01b03168152600190910190602001808311620020d7575b5050505050905090565b60005460ff166200213a5760405162461bcd60e51b8152602060048201526003602482015262229a1960e91b604482015260640162000db0565b6001600160a01b03808616600090815260096020526040902054869116156200218c5760405162461bcd60e51b815260206004820152600360248201526245303760e81b604482015260640162000db0565b4315620021c25760405162461bcd60e51b815260206004820152600360248201526245313360e81b604482015260640162000db0565b60008311620021fa5760405162461bcd60e51b8152602060048201526003602482015262114c4d60ea1b604482015260640162000db0565b60006200220784620037df565b90506000620022228260105462003d7c90919063ffffffff16565b905060006200223f6014546200223884620037df565b9062003d7c565b905080471015620022795760405162461bcd60e51b815260206004820152600360248201526245313560e81b604482015260640162000db0565b600089898986896001604051620022909062004ea0565b620022a196959493929190620052d3565b604051809103906000f080158015620022be573d6000803e3d6000fd5b506008805460018082019092557ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30180546001600160a01b03199081166001600160a01b038f811691821790935560008181526009602090815260408083208054909516958816959095179093558351606080820186528b82528185018381528287018d8152858552600a87528785209351845590518389015551600292830155855190810186528b8152808501838152818701888152948452600b90955294822094518555925194840194909455519101805460ff1916911515919091179055601080549293508692909190620023b89084906200546e565b90915550620023cb9050600c8262003dc5565b601b54604051631dfeb85f60e01b81526001600160a01b038c81166004830152602482018a905290911690631dfeb85f90604401600060405180830381600087803b1580156200241a57600080fd5b505af11580156200242f573d6000803e3d6000fd5b5050505050505050505050505050565b601e81815481106200200657600080fd5b606060ff82166200246057601591505b600d5460ff600160a01b909104811690831611156200248957600d54600160a01b900460ff1691505b60008260ff1667ffffffffffffffff811115620024b657634e487b7160e01b600052604160045260246000fd5b604051908082528060200260200182016040528015620024e0578160200160208202803683370190505b50600c549091506001600160a01b031660005b8460ff168160ff161015620025e157816001600160a01b0316633a5381b56040518163ffffffff1660e01b815260040160206040518083038186803b1580156200253c57600080fd5b505afa15801562002551573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062002577919062004f17565b838260ff16815181106200259b57634e487b7160e01b600052603260045260246000fd5b6001600160a01b039283166020918202929092018101919091529281166000908152600f9093526040909220549091169080620025d88162005534565b915050620024f3565b50909392505050565b6001600160a01b03808516600090815260096020526040902054859116156200263c5760405162461bcd60e51b815260206004820152600360248201526245303760e81b604482015260640162000db0565b6000341562002653576200265034620043da565b90505b60006200266082620037df565b60035490915060ff1615620026b357652d79883d2000811015620026ad5760405162461bcd60e51b815260206004820152600360248201526204532360ec1b604482015260640162000db0565b620026fa565b60005461010090046001600160a01b03163314620026fa5760405162461bcd60e51b815260206004820152600360248201526245323160e81b604482015260640162000db0565b6000652d79883d200082106200270e575060015b6000888888858986604051620027249062004ea0565b6200273596959493929190620052d3565b604051809103906000f08015801562002752573d6000803e3d6000fd5b5060088054600181019091557ff3f7a9fe364faab93b216da50a3214154f22a0a2b415b23a84c8169e8b636ee30180546001600160a01b03199081166001600160a01b038d8116918217909355600090815260096020526040902080549091169183169190911790559050620027c762004476565b601254600090620027d9908562003663565b9050604051806060016040528085815260200182815260200185815250600a60008c6001600160a01b03166001600160a01b0316815260200190815260200160002060008201518160000155602082015181600101556040820151816002015590505083601060008282546200285091906200546e565b90915550600190508360038111156200287957634e487b7160e01b600052602160045260246000fd5b14156200288d576200288d600c8362003dc5565b886001600160a01b03168a6001600160a01b03167fa89c42d28da99880ab0a25764963efb2991ebf2e19b963718698ecc33c1ee6028a8787604051620028d69392919062005451565b60405180910390a384156200294e57601b54604051631dfeb85f60e01b81526001600160a01b038c811660048301526024820188905290911690631dfeb85f90604401600060405180830381600087803b1580156200293457600080fd5b505af115801562002949573d6000803e3d6000fd5b505050505b896001600160a01b03166000805160206200822f83398151915285601054620029789190620054c2565b6010546040805192835260208301919091520160405180910390a250505050505050505050565b6001600160a01b03808216600090815260096020526040902054829116620029db5760405162461bcd60e51b815260040162000db09062005417565b62001eaf82600062003c2d565b6001600160a01b0380831660009081526009602052604090205483911662002a245760405162461bcd60e51b815260040162000db09062005417565b620010938362002a3484620037df565b600062003a19565b33411462002a5e5760405162461bcd60e51b815260040162000db09062005434565b6001600160a01b0380821660009081526009602052604090205482911662002a9a5760405162461bcd60e51b815260040162000db09062005417565b436000908152601760209081526040808320600380855292529091205460ff161562002ada5760405162461bcd60e51b815260040162000db090620053c0565b43600090815260176020526040812060019183600481111562002b0d57634e487b7160e01b600052602160045260246000fd5b600481111562002b2d57634e487b7160e01b600052602160045260246000fd5b815260208082019290925260409081016000908120805460ff1916941515949094179093556001600160a01b0386168352601d90915290206002015460ff1662002bdf57601e80546001600160a01b0385166000818152601d6020526040812060018082018590558085019095557f50bb669a95c7b50b7e8a6f09454034b2b14cf2b85c730dca9a539ca82cb6e35090930180546001600160a01b0319168317905552600201805460ff191690911790555b6001600160a01b0383166000908152601d6020526040812080549162002c058362005516565b90915550506001600160a01b0383166000908152601d602052604090205462002c319060309062005557565b62002c5d5762002c4383600162002dd8565b6001600160a01b0383166000908152601d60205260408120555b826001600160a01b03167f958c4e419432304eb5d6a49f6d489079229a221430ab45c481a51bcf90a5b78c4260405162002c9991815260200190565b60405180910390a2505050565b33411462002cc85760405162461bcd60e51b815260040162000db09062005434565b436000908152601760209081526040808320600280855292529091205460ff161562002d085760405162461bcd60e51b815260040162000db090620053c0565b43600090815260176020526040812060019183600481111562002d3b57634e487b7160e01b600052602160045260246000fd5b600481111562002d5b57634e487b7160e01b600052602160045260246000fd5b81526020810191909152604001600020805460ff191691151591909117905560155462002d89904362005557565b1562002dbe5760405162461bcd60e51b815260206004820152600360248201526245313960e81b604482015260640162000db0565b816011541462001eaf5762002dd262004476565b50601155565b6001600160a01b038083166000908152600960205260408120549091169062002e0184620044cf565b6001600160a01b0385166000908152600a6020526040812060028101549293509162002e37906103e89062001b80908862003663565b8254909150819081111562002e4a575081545b8083600001600082825462002e609190620054c2565b9091555050601254835462002e759162003663565b8360010181905550806010600082825462002e919190620054c2565b925050819055508183600201600082825462002eae9190620054c2565b92505081905550866001600160a01b03166000805160206200822f8339815191528260105462002edf91906200546e565b6010546040805192835260208301919091520160405180910390a2604051631c04cebf60e01b8152600481018790526001600160a01b03861690631c04cebf9086906024016000604051808303818588803b15801562002f3e57600080fd5b505af115801562002f53573d6000803e3d6000fd5b505050505062001e4c85600c6200455090919063ffffffff16565b600062002f7b34620043da565b9050600062002f8a85620044cf565b6001600160a01b038087166000908152600960205260408120549293509116908062002fb685620037df565b90508515620030475760405163eb4f16b560e01b8152600481018290526001600160a01b0384169063eb4f16b59086906024016020604051808303818588803b1580156200300357600080fd5b505af115801562003018573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906200303f919062005205565b9150620030d2565b60405163c72e33f560e01b8152600481018290526001600160a01b03888116602483015284169063c72e33f59086906044016020604051808303818588803b1580156200309357600080fd5b505af1158015620030a8573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190620030cf919062005205565b91505b6001600160a01b0388166000908152600a60205260408120805490918391839190620031009084906200546e565b92505081905550818160020160008282546200311d91906200546e565b90915550508054601254620031339190620054a0565b816001018190555081601060008282546200314f91906200546e565b90915550620031619050848462004757565b601b54604051631dfeb85f60e01b81526001600160a01b038a811660048301526024820189905290911690631dfeb85f90604401600060405180830381600087803b158015620031b057600080fd5b505af1158015620031c5573d6000803e3d6000fd5b50505050886001600160a01b03166000805160206200822f83398151915283601054620031f39190620054c2565b6010546040805192835260208301919091520160405180910390a2505050505050505050565b60006200322683620044cf565b6001600160a01b0384166000908152600a6020526040902080546012549293509091620032539162003663565b60018201556001600160a01b0380851660009081526009602052604081205490911690338515620033075760405163275a68dd60e11b81526001600160a01b038281166004830152841690634eb4d1ba9087906024016020604051808303818588803b158015620032c357600080fd5b505af1158015620032d8573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190620032ff919062005250565b9150620033b3565b6040516315dd2d5560e01b81526001600160a01b038281166004830152600091908516906315dd2d5590889060240160408051808303818588803b1580156200334f57600080fd5b505af115801562003364573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906200338b919062005269565b90935090508015620033b1578060106000828254620033ab9190620054c2565b90915550505b505b81156200344f576001600160a01b0387166000908152600a602052604081206002018054849290620033e7908490620054c2565b9091555060009050620033fa83620037df565b9050620034088282620036f0565b60405181815233906001600160a01b038a16907fb7c918e0e249f999e965cafeb6c664271b3f4317d296461500e71da39f0cbda39060200160405180910390a35062001e4c565b6040516001600160a01b038816907f8d582b00f475c8e1026abf1c7f8c3c4e81e4874ff58fabfca37eb222735d0c0d90600090a250505050505050565b6001600160a01b03838116600090815260096020526040812054909116620034b7575060006200365c565b600060135443620034c99190620054c2565b6012549091508115620035045760105482601154620034e99190620054a0565b620034f5919062005489565b6200350190826200546e565b90505b6001600160a01b0386166000908152600a602090815260408083208151606081018352815480825260018301549482018590526002909201549281019290925290929190620035549085620054a0565b620035609190620054c2565b90506014548111156200357257506014545b6001600160a01b0380891660009081526009602052604090205416861562003626576040516347a4ea2b60e01b8152600481018390526001600160a01b0389811660248301528216906347a4ea2b906044015b60206040518083038186803b158015620035de57600080fd5b505afa158015620035f3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062003619919062005250565b955050505050506200365c565b604051635e84ae4f60e11b8152600481018390526001600160a01b03898116602483015282169063bd095c9e90604401620035c5565b9392505050565b600082620036745750600062001436565b6000620036828385620054a0565b90508262003691858362005489565b14620014335760405162461bcd60e51b81526020600482015260036024820152624d303360e81b604482015260640162000db0565b600062001433838360405180604001604052806003815260200162134c0d60ea1b815250620047fc565b80471015620037285760405162461bcd60e51b8152602060048201526003602482015262114c0d60ea1b604482015260640162000db0565b6000826001600160a01b03168260405160006040518083038185875af1925050503d806000811462003777576040519150601f19603f3d011682016040523d82523d6000602084013e6200377c565b606091505b5050905080620010935760405162461bcd60e51b815260206004820152600360248201526245303560e81b604482015260640162000db0565b60006200143383836040518060400160405280600381526020016226981960e91b81525062004838565b60006200143682633b9aca0062003663565b600082604001511562003a0f5760045442101562003812575060006200365c565b602083015160009062003826908462003d7c565b84519091508111156200383e5760009150506200365c565b600554156200397e576000600554600454426200385c9190620054c2565b62003868919062005489565b905060006200388c60065462001b808489600001516200366390919063ffffffff16565b905060065482106200391557600060408781018281526020808a018781526001600160a01b038c16808652600b9092528385208b5181559051600182015591516002909201805460ff191692151592909217909155905190917fc484462ff1beade69379ba04c4af2d90b5c8482405682a8fda61ac09fdc1c40d91a2600193505050506200365c565b8083116200397157505060208481019182526001600160a01b0386166000908152600b909152604090819020855181559151600180840191909155908501516002909201805460ff19169215159290921790915590506200365c565b600093505050506200365c565b600060408501526020840180518491906200399b9083906200546e565b9052506001600160a01b0385166000818152600b6020908152604080832088518155918801516001830155878101516002909201805460ff191692151592909217909155517fc484462ff1beade69379ba04c4af2d90b5c8482405682a8fda61ac09fdc1c40d9190a260019150506200365c565b5060019392505050565b6000821162003a515760405162461bcd60e51b815260206004820152600360248201526245323360e81b604482015260640162000db0565b6001600160a01b0383166000908152600a6020908152604091829020825160608101845281548082526001830154938201939093526002909101549281019290925283111562003aca5760405162461bcd60e51b8152602060048201526003602482015262114c8d60ea1b604482015260640162000db0565b600062003ad785620044cf565b6001600160a01b0380871660009081526009602052604081205492935091169033851562003b8a576040516302e0656960e41b8152600481018890526001600160a01b03841690632e0656909086906024016020604051808303818588803b15801562003b4357600080fd5b505af115801562003b58573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019062003b7f919062005205565b915087905062003c13565b60405163f3e54a7360e01b8152600481018890523360248201526001600160a01b0384169063f3e54a739086906044016020604051808303818588803b15801562003bd457600080fd5b505af115801562003be9573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019062003c10919062005205565b91505b62003c238884898585336200486e565b5050505050505050565b600062003c3a83620044cf565b6001600160a01b038085166000908152600960205260408120549293509116908033851562003ce857836001600160a01b03166383008f52866040518263ffffffff1660e01b815260040160408051808303818588803b15801562003c9e57600080fd5b505af115801562003cb3573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019062003cda919062005222565b909350915086905062003d6c565b60405163d2a71d3560e01b81523360048201526001600160a01b0385169063d2a71d3590879060240160408051808303818588803b15801562003d2a57600080fd5b505af115801562003d3f573d6000803e3d6000fd5b50505050506040513d601f19601f8201168201806040525081019062003d66919062005222565b90935091505b62001e4c8785848685336200486e565b60008062003d8b83856200546e565b905083811015620014335760405162461bcd60e51b81526020600482015260036024820152624d303160e81b604482015260640162000db0565b6001820154600160a01b900460ff1662003e385781546001600160a01b0382166001600160a01b0319918216811784556001840180549092161780825560ff600160a01b9091041690601462003e1b8362005534565b91906101000a81548160ff021916908360ff160217905550505050565b81546001600160a01b038281169116141562003e52575050565b6001600160a01b03808216600090815260028401602052604090205416806200402657600183018054600160a01b900460ff1690601462003e938362005534565b91906101000a81548160ff021916908360ff160217905550508260010160009054906101000a90046001600160a01b03166001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562003efd57600080fd5b505afa15801562003f12573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062003f38919062005250565b826001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562003f7257600080fd5b505afa15801562003f87573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062003fad919062005250565b116200401157506001820180546001600160a01b039283166000818152600286016020908152604080832080549588166001600160a01b03199687161790558554909616825260039096019095529290932080548416831790558054909216179055565b5060018201546001600160a01b0316620041ce565b806001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b1580156200406057600080fd5b505afa15801562004075573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200409b919062005250565b826001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b158015620040d557600080fd5b505afa158015620040ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004110919062005250565b116200411b57505050565b6001600160a01b038083166000818152600386016020526040808220548585168352912080546001600160a01b0319169184169190911790556001850154909116141562004186576001830180546001600160a01b0319166001600160a01b038316179055620041ce565b6001600160a01b03808316600090815260028501602081815260408084205460038901835281852054861685529290915290912080546001600160a01b031916919092161790555b6001600160a01b03811615801590620042ce5750806001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b1580156200421c57600080fd5b505afa15801562004231573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004257919062005250565b826001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b1580156200429157600080fd5b505afa158015620042a6573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190620042cc919062005250565b115b15620042f7576001600160a01b03908116600090815260028401602052604090205416620041ce565b6001600160a01b03811662004368575081546001600160a01b039182166000818152600385016020908152604080832080549587166001600160a01b031996871617905586549095168252600286019052838120805484168317905581815292909220805482169055825416179055565b6001600160a01b0390811660008181526003850160209081526040808320805496861680855282852080549888166001600160a01b0319998a16179055815490961684526002909701909152808220805486168517905585548516841790955591825292902080549091169091179055565b600080620043f1670de0b6b3a76400008462005489565b905060018110156200442c5760405162461bcd60e51b815260206004820152600360248201526245323560e81b604482015260640162000db0565b826200444182670de0b6b3a7640000620054a0565b14620014365760405162461bcd60e51b815260206004820152600360248201526222991b60e91b604482015260640162000db0565b600060135443620044889190620054c2565b9050801562001a8a5760105481601154620044a49190620054a0565b620044b0919062005489565b60126000828254620044c391906200546e565b90915550504360135550565b6000620044db62004476565b6001600160a01b0382166000908152600a60209081526040808320815160608101835281548082526001830154948201859052600290920154928101929092526012549193926200453b92909162004534919062003663565b90620037b5565b90506200454881620049ba565b949350505050565b81546001600160a01b038281169116148015906200458857506001600160a01b03818116600090815260028401602052604090205416155b1562004592575050565b60018201546001600160a01b0382811691161415620045df576001600160a01b0380821660009081526002840160205260409020546001840180546001600160a01b031916919092161790555b81546001600160a01b038281169116141562004623576001600160a01b03808216600090815260038401602052604090205483546001600160a01b03191691161782555b6001600160a01b0380821660009081526003840160205260409020541680156200467f576001600160a01b038083166000908152600285016020526040808220548484168352912080546001600160a01b031916919092161790555b6001600160a01b038083166000908152600285016020526040902054168015620046db576001600160a01b038084166000908152600386016020526040808220548484168352912080546001600160a01b031916919092161790555b6001600160a01b0383166000908152600285016020908152604080832080546001600160a01b03199081169091556003880190925290912080549091169055600184018054600160a01b900460ff169060146200473883620054f6565b91906101000a81548160ff021916908360ff1602179055505050505050565b60018160038111156200477a57634e487b7160e01b600052602160045260246000fd5b14156200478e5762001eaf600c8362003dc5565b6002816003811115620047b157634e487b7160e01b600052602160045260246000fd5b1415620047c55762001eaf600c8362004a3f565b6003816003811115620047e857634e487b7160e01b600052602160045260246000fd5b141562001eaf5762001eaf600c8362004550565b60008183620048205760405162461bcd60e51b815260040162000db091906200536a565b5060006200482f848662005489565b95945050505050565b600081848411156200485f5760405162461bcd60e51b815260040162000db091906200536a565b5060006200482f8486620054c2565b6001600160a01b0386166000908152600a602052604081208054909186918391906200489c908490620054c2565b90915550508054601254620048b29190620054a0565b81600101819055508460106000828254620048ce9190620054c2565b90915550620048e09050868562004757565b601b546001600160a01b031663821b3e85848462004903633b9aca008a62005489565b6040516001600160e01b031960e086901b1681526001600160a01b0393841660048201529290911660248301526044820152606401600060405180830381600087803b1580156200495357600080fd5b505af115801562004968573d6000803e3d6000fd5b50505050866001600160a01b03166000805160206200822f833981519152866010546200499691906200546e565b6010546040805192835260208301919091520160405180910390a250505050505050565b600060145460001415620049d057506000919050565b6014548290811062004a205750601480546000909155604051600181527ffea2322f7ff1da0a9aaf4bdbe1f48d197c176670e395853ad39a1aea895654f19060200160405180910390a162001436565b826014600082825462004a349190620054c2565b909155505092915050565b6001600160a01b03808216600081815260038501602052604090205460018501549083169216148062004a7957506001600160a01b038116155b8062004b6d5750816001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562004aba57600080fd5b505afa15801562004acf573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004af5919062005250565b816001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562004b2f57600080fd5b505afa15801562004b44573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004b6a919062005250565b11155b1562004b7857505050565b6001600160a01b038083166000818152600286016020526040808220548585168352912080546001600160a01b0319169184169190911790558454909116141562004bdc5782546001600160a01b0319166001600160a01b03821617835562004c1e565b6001600160a01b0382811660009081526002850160209081526040808320548416835260038701909152902080546001600160a01b0319169183169190911790555b6001600160a01b0381161580159062004d1e5750816001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562004c6c57600080fd5b505afa15801562004c81573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004ca7919062005250565b816001600160a01b0316638b0e9f3f6040518163ffffffff1660e01b815260040160206040518083038186803b15801562004ce157600080fd5b505afa15801562004cf6573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019062004d1c919062005250565b115b1562004d47576001600160a01b0390811660009081526003840160205260409020541662004c1e565b6001600160a01b03811662004dbe57506001820180546001600160a01b039283166000818152600286016020908152604080832080549588166001600160a01b0319968716179055600390970190528581208054841690558354909416845293909220805483168417905580549091169091179055565b6001600160a01b0390811660008181526002850160208181526040808420805487168552600390980180835281852080546001600160a01b0319908116998916998a17909155848452895489875283872080549190991690821617909755825283208054861685179055929091529052825416179055565b82805482825590600052602060002090810192821562004e8e579160200282015b8281111562004e8e57825182546001600160a01b0319166001600160a01b0390911617825560209092019160019091019062004e57565b5062004e9c92915062004eae565b5090565b612c6880620055c783390190565b5b8082111562004e9c576000815560010162004eaf565b803562004ed281620055b0565b919050565b8035801515811462004ed257600080fd5b80516004811062004ed257600080fd5b60006020828403121562004f0a578081fd5b81356200143381620055b0565b60006020828403121562004f29578081fd5b81516200143381620055b0565b6000806040838503121562004f49578081fd5b823562004f5681620055b0565b9150602083013562004f6881620055b0565b809150509250929050565b6000806000806080858703121562004f89578182fd5b843562004f9681620055b0565b9350602085013562004fa881620055b0565b92506040850135915062004fbf6060860162004ed7565b905092959194509250565b600080600080600060a0868803121562004fe2578081fd5b853562004fef81620055b0565b945060208601356200500181620055b0565b935060408601359250606086013591506200501f6080870162004ed7565b90509295509295909350565b600080604083850312156200503e578182fd5b82356200504b81620055b0565b946020939093013593505050565b6000806000806000806000806000806101408b8d03121562005079578485fd5b8a356200508681620055b0565b995060208b0135985060408b0135975060608b0135965060808b0135955060a08b0135945060c08b0135935060e08b013592506101008b0135620050ca81620055b0565b91506101208b0135620050dd81620055b0565b809150509295989b9194979a5092959850565b6000602080838503121562005103578182fd5b823567ffffffffffffffff808211156200511b578384fd5b818501915085601f8301126200512f578384fd5b8135818111156200514457620051446200559a565b8060051b604051601f19603f830116810181811085821117156200516c576200516c6200559a565b604052828152858101935084860182860187018a10156200518b578788fd5b8795505b83861015620051b857620051a38162004ec5565b8552600195909501949386019386016200518f565b5098975050505050505050565b600060208284031215620051d7578081fd5b5035919050565b60008060408385031215620051f1578182fd5b82359150602083013562004f6881620055b0565b60006020828403121562005217578081fd5b620014338262004ee8565b6000806040838503121562005235578182fd5b620052408362004ee8565b9150602083015190509250929050565b60006020828403121562005262578081fd5b5051919050565b600080604083850312156200527c578182fd5b505080516020909101519092909150565b6000602082840312156200529f578081fd5b813560ff8116811462001433578182fd5b60048110620052cf57634e487b7160e01b600052602160045260246000fd5b9052565b6001600160a01b038781168252861660208201526040810185905260608101849052821515608082015260c081016200531060a0830184620052b0565b979650505050505050565b6020808252825182820181905260009190848201906040850190845b818110156200535e5783516001600160a01b03168352928401929184019160010162005337565b50909695505050505050565b6000602080835283518082850152825b8181101562005398578581018301518582016040015282016200537a565b81811115620053aa5783604083870101525b50601f01601f1916929092016040019392505050565b60208082526003908201526222981b60e91b604082015260600190565b60208082526003908201526222991960e91b604082015260600190565b60208082526003908201526222981960e91b604082015260600190565b60208082526003908201526208a60760eb1b604082015260600190565b60208082526003908201526204534360ec1b604082015260600190565b8381526020810183905260608101620045486040830184620052b0565b600082198211156200548457620054846200556e565b500190565b6000826200549b576200549b62005584565b500490565b6000816000190483118215151615620054bd57620054bd6200556e565b500290565b600082821015620054d757620054d76200556e565b500390565b600081620054ee57620054ee6200556e565b506000190190565b600060ff8216806200550c576200550c6200556e565b6000190192915050565b60006000198214156200552d576200552d6200556e565b5060010190565b600060ff821660ff8114156200554e576200554e6200556e565b60010192915050565b60008262005569576200556962005584565b500690565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811462001a8a57600080fdfe60806040523480156200001157600080fd5b5060405162002c6838038062002c688339810160408190526200003491620001f5565b856001600160a01b038116620000775760405162461bcd60e51b815260206004820152600360248201526245303960e81b60448201526064015b60405180910390fd5b856001600160a01b038116620000b65760405162461bcd60e51b815260206004820152600360248201526245303960e81b60448201526064016200006e565b856064811115620000f05760405162461bcd60e51b815260206004820152600360248201526245323760e81b60448201526064016200006e565b665543df729c00008611156200012f5760405162461bcd60e51b815260206004820152600360248201526245323960e81b60448201526064016200006e565b60028054336001600160a01b0319918216179091556003805482166001600160a01b038c811691909117825560008054909316908b161790915560048890556005879055600687905560088790556007805460ff1981168815159081178355879361ffff1990921661ff00199091161790610100908490811115620001c457634e487b7160e01b600052602160045260246000fd5b02179055505050505050505050506200026f565b80516001600160a01b0381168114620001f057600080fd5b919050565b60008060008060008060c087890312156200020e578182fd5b6200021987620001d8565b95506200022960208801620001d8565b94506040870151935060608701519250608087015180151581146200024c578283fd5b60a08801519092506004811062000261578182fd5b809150509295509295509295565b6129e9806200027f6000396000f3fe6080604052600436106102935760003560e01c8063820805af1161015a578063c72e33f5116100c1578063ea1466d31161007a578063ea1466d3146107aa578063eb4f16b5146107d4578063ec9df9f6146107e7578063f28e5f6114610550578063f3e54a73146107fd578063f851a4401461081057600080fd5b8063c72e33f51461072a578063c967f90f1461073d578063d2957b2f14610764578063d2a71d3514610779578063e18b7fcf1461078c578063e1d517851461079457600080fd5b80638f283970116101135780638f283970146106a057806398c2199d146106c0578063a9590889146106d5578063b9373707146105ac578063bd095c9e146106eb578063c19d93fb1461070b57600080fd5b8063820805af146105ac57806383008f52146105c657806386ccb407146105dc5780638b0e9f3f146105f25780638d23fc61146106085780638da5cb5b1461068057600080fd5b80632b8aba7a116101fe5780634eb4d1ba116101b75780634eb4d1ba1461051d578063507ae5e7146105305780635a651019146105505780635ea1d6f81461056557806362cb3e501461057b5780637977f9811461059157600080fd5b80632b8aba7a146104265780632e0656901461043c5780633a5381b51461045c57806347a4ea2b1461047c578063481c6a751461049c5780634bb1646c146104ba57600080fd5b80631927207f116102505780631927207f146103835780631c04cebf14610399578063213a4894146103ac5780632337fa08146103c3578063237a1f2e146103d857806326782247146103ee57600080fd5b8063023455651461029857806302858725146102c0578063073d2eb4146103175780630e18b6811461032d57806315dd2d551461034457806315de360e1461036c575b600080fd5b3480156102a457600080fd5b506102ad603081565b6040519081526020015b60405180910390f35b3480156102cc57600080fd5b506102fc6102db366004612753565b60136020526000908152604090208054600182015460029092015490919083565b604080519384526020840192909252908201526060016102b7565b34801561032357600080fd5b506102ad600a5481565b34801561033957600080fd5b50610342610830565b005b610357610352366004612753565b6108d9565b604080519283526020830191909152016102b7565b34801561037857600080fd5b506102ad6201518081565b34801561038f57600080fd5b506102ad6103e881565b6103426103a736600461279a565b610a9d565b3480156103b857600080fd5b506102ad621baf8081565b3480156103cf57600080fd5b506011546102ad565b3480156103e457600080fd5b506102ad60105481565b3480156103fa57600080fd5b5060015461040e906001600160a01b031681565b6040516001600160a01b0390911681526020016102b7565b34801561043257600080fd5b506102ad600f5481565b61044f61044a36600461279a565b610c4e565b6040516102b791906127e1565b34801561046857600080fd5b5060035461040e906001600160a01b031681565b34801561048857600080fd5b506102ad6104973660046127b2565b610d66565b3480156104a857600080fd5b506000546001600160a01b031661040e565b3480156104c657600080fd5b506103576104d536600461276f565b6001600160a01b039190911660009081526013602090815260408083209383526003909301815290829020825180840190935280548084526001909101549290910182905291565b6102ad61052b366004612753565b610e4f565b34801561053c57600080fd5b5061040e61054b36600461279a565b610fdd565b34801561055c57600080fd5b506102ad600181565b34801561057157600080fd5b506102ad60045481565b34801561058757600080fd5b506102ad60055481565b34801561059d57600080fd5b506102ad665543df729c000081565b3480156105b857600080fd5b506102ad652d79883d200081565b6105ce611007565b6040516102b79291906127f4565b3480156105e857600080fd5b506102ad60085481565b3480156105fe57600080fd5b506102ad60065481565b34801561061457600080fd5b50610656610623366004612753565b6012602052600090815260409020805460018201546002830154600384015460049094015460ff90931693919290919085565b6040805195151586526020860194909452928401919091526060830152608082015260a0016102b7565b34801561068c57600080fd5b5060025461040e906001600160a01b031681565b3480156106ac57600080fd5b506103426106bb366004612753565b611158565b3480156106cc57600080fd5b506102ad600a81565b3480156106e157600080fd5b506102ad600e5481565b3480156106f757600080fd5b506102ad6107063660046127b2565b6111e2565b34801561071757600080fd5b5060075461044f90610100900460ff1681565b61044f6107383660046127b2565b61135b565b34801561074957600080fd5b50610752601581565b60405160ff90911681526020016102b7565b34801561077057600080fd5b506102ad600281565b6105ce610787366004612753565b611535565b61034261163c565b3480156107a057600080fd5b506102ad60095481565b3480156107b657600080fd5b506007546107c49060ff1681565b60405190151581526020016102b7565b61044f6107e236600461279a565b61167f565b3480156107f357600080fd5b506102ad600d5481565b61044f61080b3660046127b2565b61177a565b34801561081c57600080fd5b5060005461040e906001600160a01b031681565b6001546001600160a01b031633146108755760405162461bcd60e51b815260206004820152600360248201526245303360e81b60448201526064015b60405180910390fd5b600154600080546040516001600160a01b0393841693909116917f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f91a360018054600080546001600160a01b03199081166001600160a01b03841617909155169055565b60025460009081906001600160a01b031633146109085760405162461bcd60e51b815260040161086c90612884565b610911836117ea565b610919611874565b6001600160a01b0383166000908152601260205260408120600381015460028201546001830154600a54939493610966939261096092909161095a91611902565b9061195d565b906119a2565b90506109818260010154600a5461190290919063ffffffff16565b60038301556000600283015580156109e25761099d85826119ca565b6003546040518281526001600160a01b038781169216907fd01566b65da2d62cb66f3844588c99d9a95b38394ccdc9c3f7604536e653cf1b9060200160405180910390a35b60006109ed86611a89565b90506109f981866128be565b94506003600754610100900460ff166003811115610a2757634e487b7160e01b600052602160045260246000fd5b148015610a36575042600e5411155b15610a7e576001830154610a4a90866128be565b9450826001015460066000828254610a629190612915565b9091555050600183018054600091829055600385019190915593505b8460086000828254610a909190612915565b9091555050505050915091565b6002546001600160a01b03163314610ac75760405162461bcd60e51b815260040161086c90612884565b610acf611874565b6000610af26103e8610aec8460085461190290919063ffffffff16565b90611bab565b90508060065410610b1a578060066000828254610b0f9190612915565b90915550610b209050565b60006006555b6003546001600160a01b0316600090815260136020526040812060020154600554610b4a9161195d565b90506000610b5e6103e8610aec8487611902565b90508060055410610b86578060056000828254610b7b9190612915565b90915550610bb69050565b600060055482610b969190612915565b6000600555600354909150610bb4906001600160a01b031682611bd3565b505b8260086000828254610bc89190612915565b925050819055508360106000828254610be191906128be565b909155505043600f556007805461020061ff00198216179182905560035460405160ff6101009384900481169441946001600160a01b039094169360008051602061299483398151915293610c3f938893929092049091169061280b565b60405180910390a35050505050565b6002546000906001600160a01b03163314610c7b5760405162461bcd60e51b815260040161086c90612884565b610c83611d3e565b1515600114610ca45760405162461bcd60e51b815260040161086c906128a1565b610cb482652d79883d200061195d565b6005541015610ceb5760405162461bcd60e51b815260206004820152600360248201526245333160e81b604482015260640161086c565b610cf3611874565b600a54610d0090836128f6565b600b6000828254610d1191906128be565b925050819055508160056000828254610d2a9190612915565b909155505060008054610d479084906001600160a01b0316611dfa565b600354909150610d60906001600160a01b031684611ff6565b92915050565b6002546000906001600160a01b03163314610d935760405162461bcd60e51b815260040161086c90612884565b6000610daf6064610aec6004548761190290919063ffffffff16565b90506000610dbd8286612915565b9050600060065482610dcf91906128d6565b9050600081600a54610de191906128be565b6000549091506001600160a01b0387811691161415610e3a57600060065483610e0a91906128f6565b88600954610e1891906128be565b610e229190612915565b9050610e2e818361207b565b95505050505050610d60565b610e448187612159565b979650505050505050565b6002546000906001600160a01b03163314610e7c5760405162461bcd60e51b815260040161086c90612884565b610e84611874565b6000610ea9600c54610960600b5461095a600554600a5461190290919063ffffffff16565b9050610ec2600554600a5461190290919063ffffffff16565b600c556000600b819055600d54600954610ee2919061095a90859061195d565b60006009819055600d5590508015610f4357610efe84826119ca565b6003546040518281526001600160a01b038681169216907fd01566b65da2d62cb66f3844588c99d9a95b38394ccdc9c3f7604536e653cf1b9060200160405180910390a35b600354600090610f5b906001600160a01b0316611a89565b9050610f6781856128be565b93506003600754610100900460ff166003811115610f9557634e487b7160e01b600052602160045260246000fd5b148015610fa4575042600e5411155b15610fbe57600554610fb690856128be565b600060055593505b8360086000828254610fd09190612915565b9091555050505050919050565b60118181548110610fed57600080fd5b6000918252602090912001546001600160a01b0316905081565b60025460009081906001600160a01b031633146110365760405162461bcd60e51b815260040161086c90612884565b6003600754610100900460ff16600381111561106257634e487b7160e01b600052602160045260246000fd5b14156110965760405162461bcd60e51b815260206004820152600360248201526222999960e91b604482015260640161086c565b6007805461ff0019811661030017909155610100900460ff166110bc621baf80426128be565b600e556110c7611874565b600060018260038111156110eb57634e487b7160e01b600052602160045260246000fd5b14156110f5575060035b600554600660008282546111099190612915565b9091555050600054600380546040516001600160a01b0393841693909116916000805160206129948339815191529161114391879161280b565b60405180910390a36005549093509150509091565b6000546001600160a01b031633146111985760405162461bcd60e51b815260206004820152600360248201526222981960e91b604482015260640161086c565b600180546001600160a01b0319166001600160a01b0383169081179091556040517faefcaa6215f99fe8c2f605dd268ee4d23a5b596bbca026e25ce8446187f4f1ba90600090a250565b6002546000906001600160a01b0316331461120f5760405162461bcd60e51b815260040161086c90612884565b600061122b6064610aec6004548761190290919063ffffffff16565b905060006112398286612915565b905060006006548261124b91906128d6565b9050600081600a5461125d91906128be565b60008054919250906001600160a01b03888116911614156112df5760006006548461128891906128f6565b8960095461129691906128be565b6112a09190612915565b90506112c3600c54610960600b5461095a6005548861190290919063ffffffff16565b600d549092506112d79061095a848461195d565b915050610e44565b6001600160a01b038716600090815260126020908152604091829020825160a081018452815460ff16151581526001820154928101839052600282015493810184905260038201546060820181905260049092015460808201529261134e92610960919061095a908890611902565b9998505050505050505050565b6002546000906001600160a01b031633146113885760405162461bcd60e51b815260040161086c90612884565b611390611d3e565b15156001146113b15760405162461bcd60e51b815260040161086c906128a1565b60075460ff166113e95760405162461bcd60e51b815260206004820152600360248201526245333360e81b604482015260640161086c565b600654665543df729c0000906113ff908561195d565b11156114335760405162461bcd60e51b815260206004820152600360248201526245323960e81b604482015260640161086c565b6001600160a01b03821660009081526012602052604090205460ff166114b9576001600160a01b0382166000818152601260205260408120805460ff191660019081179091556011805491820181559091527f31ecc21a745e3968a04e9570e4425bc18fa8019c68028196b546d1669c200c680180546001600160a01b03191690911790555b6114c2826117ea565b6114ca611874565b6001600160a01b0382166000908152601260205260409020600a546114ef90856128f6565b81600301600082825461150291906128be565b925050819055508381600101600082825461151d91906128be565b9091555061152d905084846122ea565b949350505050565b60025460009081906001600160a01b031633146115645760405162461bcd60e51b815260040161086c90612884565b61156c611d3e565b151560011461158d5760405162461bcd60e51b815260040161086c906128a1565b6001600160a01b038316600090815260126020908152604091829020825160a081018452815460ff16151581526001820154928101839052600282015493810193909352600381015460608401526004015460808301526116165760405162461bcd60e51b8152602060048201526003602482015262114ccd60ea1b604482015260640161086c565b61161f846117ea565b602081015160006116308287612497565b94509092505050915091565b6002546001600160a01b031633146116665760405162461bcd60e51b815260040161086c90612884565b34600d600082825461167891906128be565b9091555050565b6002546000906001600160a01b031633146116ac5760405162461bcd60e51b815260040161086c90612884565b6116b4611d3e565b15156001146116d55760405162461bcd60e51b815260040161086c906128a1565b600654665543df729c0000906116eb908461195d565b111561171f5760405162461bcd60e51b815260206004820152600360248201526245323960e81b604482015260640161086c565b611727611874565b600a5461173490836128f6565b600c600082825461174591906128be565b92505081905550816005600082825461175e91906128be565b9091555050600054610d609083906001600160a01b03166122ea565b6002546000906001600160a01b031633146117a75760405162461bcd60e51b815260040161086c90612884565b6117af611d3e565b15156001146117d05760405162461bcd60e51b815260040161086c906128a1565b6117d9826117ea565b6117e38383612497565b9392505050565b60006117f582612551565b6001600160a01b03831660009081526012602052604090206010546004820155909150811561186f5781816001015410611848578181600101600082825461183d9190612915565b9091555061186f9050565b600081600101548361185a9190612915565b60006001840155905061186d8482611bd3565b505b505050565b34156119005760006118966064610aec6004543461190290919063ffffffff16565b905060006118a48234612915565b90506000600654826118b691906128d6565b905080600a60008282546118ca91906128be565b90915550506006546118dc90826128f6565b6118e69034612915565b600960008282546118f791906128be565b90915550505050505b565b60008261191157506000610d60565b600061191d83856128f6565b90508261192a85836128d6565b146117e35760405162461bcd60e51b81526020600482015260036024820152624d303360e81b604482015260640161086c565b60008061196a83856128be565b9050838110156117e35760405162461bcd60e51b81526020600482015260036024820152624d303160e81b604482015260640161086c565b60006117e383836040518060400160405280600381526020016226981960e91b815250612659565b80471015611a005760405162461bcd60e51b8152602060048201526003602482015262114c0d60ea1b604482015260640161086c565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114611a4d576040519150601f19603f3d011682016040523d82523d6000602084013e611a52565b606091505b505090508061186f5760405162461bcd60e51b815260206004820152600360248201526245303560e81b604482015260640161086c565b6001600160a01b0381166000908152601360205260408120805460018201548392911115611ba45760018101545b8154811015611b4b576000818152600383016020908152604091829020825180840190935280548352600101549082018190524210611b32578051611afc90856128be565b6000838152600385016020526040812081815560019081018290558501805492965090611b288361292c565b9190505550611b38565b50611b4b565b5080611b438161292c565b915050611ab7565b50805460018201541415611b84576001600160a01b03841660009081526013602052604081208181556001810182905560020155611ba4565b8115611ba45781816002016000828254611b9e9190612915565b90915550505b5092915050565b60006117e3838360405180604001604052806003815260200162134c0d60ea1b81525061268a565b6001600160a01b03821660009081526013602052604090206002810154829190821115611c285760405162461bcd60e51b815260206004820152600360248201526204533360ec1b604482015260640161086c565b60018101545b8154811015611ce6576000818152600383016020526040902080548411611c965783816000016000828254611c639190612915565b9091555050805460009450611c9057600060018083018290558401805491611c8a8361292c565b91905055505b50611ce6565b8054611ca29085612915565b6000838152600385016020526040812081815560019081018290558501805492965090611cce8361292c565b91905055505080611cde8161292c565b915050611c2e565b50805460018201541415611d1f576001600160a01b0384166000908152601360205260408120818155600181018290556002015561186d565b82816002016000828254611d339190612915565b909155505050505050565b600080600754610100900460ff166003811115611d6b57634e487b7160e01b600052602160045260246000fd5b1480611da057506001600754610100900460ff166003811115611d9e57634e487b7160e01b600052602160045260246000fd5b145b80611df557506002600754610100900460ff166003811115611dd257634e487b7160e01b600052602160045260246000fd5b148015611df5575062015180611df3600f54436119a290919063ffffffff16565b115b905090565b60008260066000828254611e0e9190612915565b90915550600090506001600754610100900460ff166003811115611e4257634e487b7160e01b600052602160045260246000fd5b1415611eb357652d79883d20006006541015611eaf576003546007546040516001600160a01b0386811693169160008051602061299483398151915291611e9491610100900460ff169060009061280b565b60405180910390a3506007805461ff00191690556003611eb3565b5060025b6002600754610100900460ff166003811115611edf57634e487b7160e01b600052602160045260246000fd5b1415611fb257652d79883d20006006541080611f025750652d79883d2000600554105b15611f5b576003546007546040516001600160a01b0386811693169160008051602061299483398151915291611f4391610100900460ff169060009061280b565b60405180910390a36007805461ff0019169055611fb2565b6003546007546040516001600160a01b0386811693169160008051602061299483398151915291611f9791610100900460ff169060019061280b565b60405180910390a3506007805461ff00191661010017905560015b6006546003546040516001600160a01b038087169216907f6ed333cce6c087c78e438d4efc04f8896d69bb75d08206a96869dd0b82ff420f90600090a49392505050565b6001600160a01b03821660009081526013602090815260409182902082518084019093528383529190810161202e621baf80426128be565b905281546000908152600383016020908152604082208351815592015160019092019190915581549082906120628361292c565b9190505550818160020160008282546118f791906128be565b60008061209f600c54610960600b5461095a6005548861190290919063ffffffff16565b600d549091506120b39061095a838761195d565b60035490915060009081906120d0906001600160a01b03166126b8565b90506120dc81836128be565b91506003600754610100900460ff16600381111561210a57634e487b7160e01b600052602160045260246000fd5b148015612119575042600e5411155b1561212e5760055461212b90836128be565b91505b811561214f5761214282633b9aca00611902565b61214c90846128be565b92505b5090949350505050565b6001600160a01b0381166000908152601260209081526040808320815160a081018352815460ff161515815260018201549381019390935260028101549183019190915260038101546060830152600401546080820152816121ba84612551565b90506000811561220257818360200151106121e95781836020018181516121e19190612915565b905250612202565b60208301516121f89083612915565b6000602085015290505b600061222b8460600151610960866040015161095a88602001518c61190290919063ffffffff16565b9050600080612239886126b8565b9050831561225e57808411156122515750600061225e565b61225b8482612915565b90505b61226881836128be565b91506003600754610100900460ff16600381111561229657634e487b7160e01b600052602160045260246000fd5b1480156122a5575042600e5411155b156122bc5760208601516122b990836128be565b91505b81156122dd576122d082633b9aca00611902565b6122da90846128be565b92505b5090979650505050505050565b600082600660008282546122fe91906128be565b92505081905550826008600082825461231791906128be565b925050819055506000652d79883d2000600654101580156123405750652d79883d200060055410155b156123d2576001600754610100900460ff16600381111561237157634e487b7160e01b600052602160045260246000fd5b146123ca576003546007546040516001600160a01b03868116931691600080516020612994833981519152916123b291610100900460ff169060019061280b565b60405180910390a36007805461ff0019166101001790555b506001611fb2565b6002600754610100900460ff1660038111156123fe57634e487b7160e01b600052602160045260246000fd5b1415611fb2576003546007546040516001600160a01b038681169316916000805160206129948339815191529161244091610100900460ff169060009061280b565b60405180910390a36007805461ff00191690556006546003546040516001600160a01b038681169216907f6ed333cce6c087c78e438d4efc04f8896d69bb75d08206a96869dd0b82ff420f90600090a49392505050565b6001600160a01b038116600090815260126020526040812060018101548411156124e95760405162461bcd60e51b8152602060048201526003602482015262114c8d60ea1b604482015260640161086c565b6124f1611874565b600a546124fe90856128f6565b81600201600082825461251191906128be565b925050819055508381600101600082825461252c9190612915565b9091555061253c90508385611ff6565b60006125488585611dfa565b95945050505050565b60006010546000141561256657506000919050565b6001600160a01b038216600090815260126020908152604091829020825160a081018452815460ff1615158152600182015492810192909252600281015492820192909252600382015460608201526004909101546080820181905260105414156125d45750600092915050565b60006125ef82608001516010546119a290919063ffffffff16565b6001600160a01b03851660009081526013602090815260408220600201549085015192935090911515806126235750600081115b1561265057602084015160009061263a908361195d565b905061264c6103e8610aec8387611902565b9250505b50949350505050565b6000818484111561267d5760405162461bcd60e51b815260040161086c9190612831565b5060006125488486612915565b600081836126ab5760405162461bcd60e51b815260040161086c9190612831565b50600061254884866128d6565b6001600160a01b0381166000908152601360205260408120805460018201548392911115611ba45760018101545b815481101561274b57600081815260038301602090815260409182902082518084019093528054835260010154908201819052421061273257805161272b90856128be565b9350612738565b5061274b565b50806127438161292c565b9150506126e6565b505092915050565b600060208284031215612764578081fd5b81356117e38161297e565b60008060408385031215612781578081fd5b823561278c8161297e565b946020939093013593505050565b6000602082840312156127ab578081fd5b5035919050565b600080604083850312156127c4578182fd5b8235915060208301356127d68161297e565b809150509250929050565b602081016127ee8361295d565b91905290565b604081016128018461295d565b9281526020015290565b604081016128188461295d565b8382526128248361295d565b8260208301529392505050565b6000602080835283518082850152825b8181101561285d57858101830151858201604001528201612841565b8181111561286e5783604083870101525b50601f01601f1916929092016040019392505050565b60208082526003908201526245303160e81b604082015260600190565b60208082526003908201526208a64760eb1b604082015260600190565b600082198211156128d1576128d1612947565b500190565b6000826128f157634e487b7160e01b81526012600452602481fd5b500490565b600081600019048311821515161561291057612910612947565b500290565b60008282101561292757612927612947565b500390565b600060001982141561294057612940612947565b5060010190565b634e487b7160e01b600052601160045260246000fd5b6004811061297b57634e487b7160e01b600052602160045260246000fd5b50565b6001600160a01b038116811461297b57600080fdfe8a8390b4461d0bcdc4b37ac49caa0fdf9bb7c82e483cd569bb0b0d0855b5dcd6a2646970667358221220a2771daa0d98e79ea6097ac9018d97ffdf6dfc09391788072151eaaffbaf6afe64736f6c634300080400336f541a70b0425dea8a0c0c3185e2d2345a2c7bec5f9830b57684e1d530d477c7a26469706673582212204c847c269fe22dd2ef6a4ecd501d89ddeb14017edf42f80785b3d8d6f5238afd64736f6c63430008040033"}
}

func (h *HardFork1) Dao() *DAOCharityFoundation {
	return &DAOCharityFoundation{"0x6080604052600436106100745760003560e01c80638f2839701161004e5780638f283970146100fe578063a8031a1d1461011e578063c4d66de81461013e578063f851a4401461015e57600080fd5b80630e18b68114610080578063158ef93e1461009757806326782247146100c657600080fd5b3661007b57005b600080fd5b34801561008c57600080fd5b50610095610183565b005b3480156100a357600080fd5b506000546100b19060ff1681565b60405190151581526020015b60405180910390f35b3480156100d257600080fd5b506001546100e6906001600160a01b031681565b6040516001600160a01b0390911681526020016100bd565b34801561010a57600080fd5b50610095610119366004610489565b61023d565b34801561012a57600080fd5b506100956101393660046104ac565b6102cc565b34801561014a57600080fd5b50610095610159366004610489565b610362565b34801561016a57600080fd5b506000546100e69061010090046001600160a01b031681565b6001546001600160a01b031633146101c85760405162461bcd60e51b815260206004820152600360248201526245303360e81b60448201526064015b60405180910390fd5b600154600080546040516001600160a01b0393841693610100909204909116917f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f91a36001805460008054610100600160a81b0319166101006001600160a01b038416021790556001600160a01b0319169055565b60005461010090046001600160a01b031633146102825760405162461bcd60e51b815260206004820152600360248201526222981960e91b60448201526064016101bf565b600180546001600160a01b0319166001600160a01b0383169081179091556040517faefcaa6215f99fe8c2f605dd268ee4d23a5b596bbca026e25ce8446187f4f1ba90600090a250565b60005461010090046001600160a01b031633146103115760405162461bcd60e51b815260206004820152600360248201526222981960e91b60448201526064016101bf565b61031b82826103c5565b816001600160a01b03167fdf29796aad820e4bb192f3a8d631b76519bcd2cbe77cc85af20e9df53cece0868260405161035691815260200190565b60405180910390a25050565b60005460ff161561039b5760405162461bcd60e51b815260206004820152600360248201526245343160e81b60448201526064016101bf565b600080546001600160a01b03909216610100026001600160a81b0319909216919091176001179055565b804710156103fb5760405162461bcd60e51b8152602060048201526003602482015262114c0d60ea1b60448201526064016101bf565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114610448576040519150601f19603f3d011682016040523d82523d6000602084013e61044d565b606091505b50509050806104845760405162461bcd60e51b815260206004820152600360248201526245303560e81b60448201526064016101bf565b505050565b60006020828403121561049a578081fd5b81356104a5816104d7565b9392505050565b600080604083850312156104be578081fd5b82356104c9816104d7565b946020939093013593505050565b6001600160a01b03811681146104ec57600080fd5b5056fea2646970667358221220c9677f0c586c6d9ab4498d24a7861e0fee320fd8ca1662e8fcf37b0d716042d364736f6c63430008040033", common.HexToAddress("0xd699c50CbD5e028BB083b17a600106d48CB5b262")}
}

type DAOCharityFoundation struct {
	Code     string
	DAOAdmin common.Address
}

type StakingV1 struct {
	Code string
}

func (h *HardFork1) GetName() string {
	return "HardFork1"
}

func (h *HardFork1) DoUpdate(state *state.StateDB, header *types.Header, chainContext core.ChainContext, config *params.ChainConfig) (err error) {
	err = h.Dao().DoUpdate(state, header, chainContext, config)
	if err != nil {
		return err
	}
	err = h.Staking().DoUpdate(state, header, chainContext, config)
	if err != nil {
		return err
	}
	return
}

func (d *DAOCharityFoundation) DoUpdate(state *state.StateDB, header *types.Header, chainContext core.ChainContext, config *params.ChainConfig) (err error) {
	contractCode := common.FromHex(d.Code)
	//write code to sys contract
	state.SetCode(system.DAOCharityFoundationContract, contractCode)
	log.Debug("Write code to system contract account", "addr", system.DAOCharityFoundationContract.String(), "code", d.Code)

	method := "initialize"
	abi := system.ABI(system.DAOCharityFoundationContract)
	// Execute contract
	data, err := abi.Pack(method, d.DAOAdmin)
	if err != nil {
		log.Error("Can't pack data for initialize", "error", err)
		return err
	}
	if _, err := CallContract(&CallContext{
		Statedb:      state,
		Header:       header,
		ChainContext: chainContext,
		ChainConfig:  config,
	}, &system.DAOCharityFoundationContract, data); err != nil {
		log.Error("Failed to perform initialize", "err", err)
		return err
	}
	return
}

func (s *StakingV1) DoUpdate(state *state.StateDB, header *types.Header, chainContext core.ChainContext, config *params.ChainConfig) (err error) {
	contractCode := common.FromHex(s.Code)
	//write code to sys contract
	state.SetCode(system.StakingContract, contractCode)
	log.Debug("Write code to system contract account", "addr", system.StakingContract.String(), "code", s.Code)

	method := "initializeV2"
	abi := system.GetStakingABI(header.Number, config)
	// Execute contract
	data, err := abi.Pack(method, system.DAOCharityFoundationContract)
	if err != nil {
		log.Error("Can't pack data for updateRewardsInfo", "error", err)
		return err
	}
	if _, err := CallContract(&CallContext{
		Statedb:      state,
		Header:       header,
		ChainContext: chainContext,
		ChainConfig:  config,
	}, &system.StakingContract, data); err != nil {
		log.Error("Failed to perform initialize", "err", err)
		return err
	}
	return
}
